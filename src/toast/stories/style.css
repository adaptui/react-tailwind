/* TOAST CONTAINER */

.toast__container {
  position: fixed;
  z-index: 5000;
  transition: all 0.4s ease;
  height: 160px;
  max-height: 160px;
  width: 420px;
  bottom: calc(var(--toast-safe-area-gap, 0px) + 5px) !important;
}

.toast__container:hover .stack-toast,
.stack-toast:hover {
  transform: translate3d(
    var(--toast-x-offset),
    calc(
      var(--toast-hover-offset-y) - var(--toast-stack-gap) *
        (var(--toast-index) - 1)
    ),
    0
  );
}

/* TOAST */

.stack-toast {
  --toast-x-offset: -50%;
  --toast-stack-gap: 20px;
  --toast-safe-area-gap: env(safe-area-inset-bottom);
  position: absolute;
  max-width: 100%;
  width: max-content;
  bottom: 0;
  left: 50%;
  transition: all 0.4s ease;
  transform: translate3d(var(--toast-x-offset), 0, 0);
  opacity: 0;
}

.stack-toast:not(:last-child) {
  --toast-i: calc(var(--toast-index) - 1);
  transform: translate3d(
      var(--toast-x-offset),
      calc(1px - (var(--toast-stack-gap) * var(--toast-i))),
      0
    )
    scale(calc(1 - 0.05 * var(--toast-i)));
  opacity: 1;
}

/* hide all toast except the first 3 */
.stack-toast:nth-last-child(n + 4) {
  pointer-events: none;
  opacity: 0 !important;
}

.stack-toast-1 {
  transition: all 0.4s ease;
  transform: translate3d(var(--toast-x-offset), 0, 0) !important;
  opacity: 1 !important;
}

@keyframes toastFadeIn {
  0% {
    opacity: 0.5;
    transform: translateY(50px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}
@keyframes toastFadeOut {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0.5;
    transform: translateY(50px);
  }
}

@media all and (max-width: 480px) {
  .toast__container {
    width: 100%;
  }
  .stack-toast {
    width: 95%;
  }
  .stack-toast:nth-last-child(n + 3) {
    pointer-events: none;
    opacity: 0 !important;
  }
}
