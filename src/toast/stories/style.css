:root {
  --radius: 5px;
  --stack-gap: 20px;
  --safe-area-gap: env(safe-area-inset-bottom);
}

.toast-container {
  position: fixed;
  display: block;
  max-width: 468px;
  bottom: calc(var(--safe-area-gap, 0px) + 10px);
  right: 20px;
  z-index: 5000;
  transition: all 0.4s ease;

  & .toast-wrapper {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 468px;
    transition: all 0.3s ease;
    transform: translate3d(0, 86px, 0);
    opacity: 0;

    &:not(:last-child) {
      & .toast {
        --i: calc(var(--index) - 1);
        transform: translate3d(0, calc(1px - (var(--stack-gap) * var(--i))), 0)
          scale(calc(1 - 0.05 * var(--i)));
        opacity: 1;
        height: var(--front-height);

        & .toast-actual {
          & .toast-text {
            opacity: 0;
          }
        }
      }
    }

    & .toast {
      transition: all 0.3s ease;
      height: var(--height);
      display: flex;

      &:after {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        top: calc(100% + 1px);
        width: 100%;
        /* This for destroy the middle toast, still keep `spread` */
        height: 1000px;
        background: transparent;
      }

      &.toast-4 {
        opacity: 0 !important;
      }
    }
  }
}

.toast-container:hover {
  bottom: calc(var(--safe-area-gap, 0px) + 20px);

  & .toast-wrapper .toast {
    transform: translate3d(
      0,
      calc(var(--hover-offset-y) - var(--stack-gap) * (var(--index) - 1)),
      0
    );
    height: var(--height);
  }
}
